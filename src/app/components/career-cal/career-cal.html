<div class="form-container">
    <h2 class="heading">Registrar CalCareer</h2>

    <form (ngSubmit)="onSubmit()" #formCalCareer="ngForm" class="form">
        <label for="career">Carrera:</label>
        <select id="career" [(ngModel)]="calCareer.careerId" name="careerId" required #careerId="ngModel" class="input">
            @for (career of careers; track career.id) {
            <option [ngValue]="career.id">{{ career.nombre }}</option>
            }
        </select>
        @if (careerId.invalid && careerId.touched) {
        <div class="error">Selecciona una carrera</div>
        }

        <label for="typeCareer">Tipo de Carrera:</label>
        <select id="typeCareer" [(ngModel)]="calCareer.typeCareerId" name="typeCareerId" required
            #typeCareerId="ngModel" (change)="calcularFechaFin()" class="input">
            @for (type of typeCareers; track type.id) {
            <option [ngValue]="type.id">{{ type.tipo }} ({{ type.duracion }} semanas)</option>
            }
        </select>
        @if (typeCareerId.invalid && typeCareerId.touched) {
        <div class="error">Selecciona un tipo de carrera</div>
        }

        <label for="fechaActual">Fecha Actual:</label>
        <input type="date" id="fechaActual" [(ngModel)]="calCareer.fechaActual" name="fechaActual" required
            #fechaActual="ngModel" (change)="calcularFechaFin()" class="input" />
        @if (fechaActual.invalid && fechaActual.touched) {
        <div class="error">Selecciona una fecha vÃ¡lida</div>
        }

        @if (fechaFin) {
        <div class="fecha-fin">
            <strong>Fecha estimada de finalizaciÃ³n:</strong>
            {{ fechaFin | date: "longDate" }}
        </div>
        }

        <div class="buttons" style="margin-top: 20px;">
            <button type="submit" class="login-button">ðŸ’¾ Guardar</button>

            <button type="button" class="login-button" (click)="redirigir()">ðŸ“Œ Asignar Ejes</button>
        </div>
    </form>
</div>